<!DOCTYPE html>
<html lang="en">

<head>
  <%- include('../partials/head'); %>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"
    integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
</head>

<body class="container">

  <header>
    <%- include('../partials/header'); %>
  </header>

  <main>

    <div class="container">
      <div class="row justify-content-center mb-2">
        <div class="col" style="max-width: 20rem;">
          <div class="card pt-4 my-3">
            <div class="d-flex flex-column align-items-center">
              <img src="https://soccerpointeclaire.com/wp-content/uploads/2021/06/default-profile-pic-e1513291410505.jpg" height="100" width="100" style="border-radius: 10rem;"/>
              <p class="text-muted mt-3" style="margin-bottom: 0;"><%= username %></p>
              <p class="text-muted mt-3">Upvotes received: <%= upvotes_received %></p>
              <!-- <div class=" d-flex mt-2"> <button class="btn1 btn-dark">Edit Profile</button> </div> -->
              <p class="text-muted mt-1">Admin: <%= is_admin %></p>
            </div>
          </div>
        </div>
        <h2 class="mx-4">Posts</h2>
        <!-- <div class="container mt-4 mb-4 p-3 d-flex col-3">
                <div class="card p-4">                                                                                                      
                    <div class="d-flex flex-column"> <button class="btn btn-secondary"> <img src="https://i.imgur.com/wvxPV9S.png" height="100" width="100" /></button> <span class="name mt-3"><%= username %></span> <span class="idd">@<%= username %></span>
                        <div class="d-flex flex-row justify-content-center align-items-center mt-3"> <span class="number">Upvotes received: <span class="follow"><%= upvotes_received %></span></span>
                        </div>
                        <div class=" d-flex mt-2"> <button class="btn1 btn-dark">Edit Profile</button> </div>
                        <div class="text mt-3"> <span></span> </div>
                        <div class="gap-3 mt-3 icons d-flex flex-row justify-content-center align-items-center">
                            <span><i class="fa fa-twitter"></i></span> <span><i class="fa fa-facebook-f"></i></span> <span><i class="fa fa-instagram"></i></span> <span><i class="fa fa-linkedin"></i></span> </div>
                        <div class=" px-2 rounded mt-4 date "> <span class="join">Admin: <%= is_admin %> </span> </div>
                    </div>
                </div>
            </div> -->
        <div class="" style="padding: 0;">
          <div class="container">
            <% posts.forEach(function(row) { %>
            <div class="row">
              <div class="card col mt-2 mx-2">
                <div class="card-body">
                  <div class="row flex-row">
                    <h5 class="card-title col-md-8 post-title-text"><%= row.post_title %></h5>
                    <p class="col-md-2 post-username-text">u/<%= row.poster_username %></p>
                    <p class="col-md-2 post-upvotes-text"><%= row.upvotes_received %> Likes</p>
                  </div>
                  <p class="card-text"><%= row.post_content %></p>
                  <div class="row">
                    <div class="col-8 post-interaction-container">
                      <a href="/post/<%= row.post_id %>" class="btn btn-primary">See Post</a>
                    </div>
                    <p class="col-4 post-timestamp-text"><%= row.post_timestamp.toString().substring(0, 24) %></p>
                  </div>
                </div>
              </div>
            </div>
            <% }); %>
          </div>
        </div>
      </div>
    </div>

  </main>

  <footer>
    <%- include('../partials/footer'); %>
  </footer>

</body>

</html>